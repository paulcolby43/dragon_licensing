-@title= @tranact_account.Name
= render partial: 'shared/navbars/header_navbar'
.container-fluid
  .row
    = render partial: 'shared/navbars/side_bar_menu'
    %main.col-md-9.ms-sm-auto.col-lg-10.px-md-4
      .d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-center.pt-3.pb-2.mb-3.border-bottom
        %h1.h2= @tranact_account.Name
        .float-end= link_to 'Edit', edit_tranact_account_path(@tranact_account), class: 'btn btn-primary'
      .card.col-sm-12
        .row
          .col-sm-3
            .card-body
              %h5.card-title Account#
              %p.card-text= @tranact_account.Account
              %h5.card-title Active
              %p.card-text= @tranact_account.Active? ? 'Yes' : 'No'
              %h5.card-title LicenseIntervalMonths
              %p.card-text= @tranact_account.LicenseIntervalMonths
          .col-sm-3
            .card-body
              %h5.card-title CreateDate
              %p.card-text= @tranact_account.CreateDate
              %h5.card-title CreateUser
              %p.card-text= @tranact_account.CreateUser
              %h5.card-title ModifiedDate
              %p.card-text= @tranact_account.ModifiedDate
              %h5.card-title ModifiedUser
              %p.card-text= @tranact_account.ModifiedUser
          .col-sm-3
            .card-body
              %h5.card-title JPEGger
              %p.card-text= @tranact_account.JPEGger? ? 'Yes' : 'No'
              %h5.card-title JPEGgerExpDate
              %p.card-text= @tranact_account.JPEGgerExpDate
              %h5.card-title JPEGgerLicType
              %p.card-text= @tranact_account.JPEGgerLicType? ? 'Yes' : 'No'
              %h5.card-title JPEGgerQty
              %p.card-text= @tranact_account.JPEGgerQty
          .col-sm-3
            .card-body
              %h5.card-title EZCash
              %p.card-text= @tranact_account.EZCash? ? 'Yes' : 'No'
              %h5.card-title EZCashExpDate
              %p.card-text= @tranact_account.EZCashExpDate
              %h5.card-title EZCashDevices
              %p.card-text= @tranact_account.EZCashDevices
              %h5.card-title EZCashLock
              %p.card-text= @tranact_account.EZCashLock? ? 'Yes' : 'No'
              
      
      %br 
      .card
        .card-header
          %ul.nav.nav-tabs.card-header-tabs
            -#
              %li.nav-item{:role => "presentation"}
                %button#software-locations-tab.nav-link.active{"aria-controls" => "software_locations", "aria-selected" => "true", "data-bs-target" => "#software_locations", "data-bs-toggle" => "tab", :role => "tab", :type => "button"} Software Locations
              %li.nav-item{:role => "presentation"}
                %button#customers-tab.nav-link{"aria-controls" => "customers", "aria-selected" => "false", "data-bs-target" => "#customers", "data-bs-toggle" => "tab", :role => "tab", :type => "button"} Customers
              %li.nav-item{:role => "presentation"}
                %button#devices-tab.nav-link.active{"aria-controls" => "devices", "aria-selected" => "false", "data-bs-target" => "#devices", "data-bs-toggle" => "tab", :role => "tab", :type => "button"} Devices
            %li.nav-item{:role => "presentation"}
              %button#servers-tab.nav-link.active{"aria-controls" => "servers", "aria-selected" => "false", "data-bs-target" => "#servers", "data-bs-toggle" => "tab", :role => "tab", :type => "button"} Servers
        .card-body
          #myTabContent.tab-content
            -#
              #software_locations.tab-pane.fade.active.show{"aria-labelledby" => "software-locations-tab", :role => "tabpanel"}
                %h5.card-title Software Locations
                - unless @software_locations.blank?
                  .table-responsive
                    %table.table.table-striped.table-sm
                      %thead
                        %tr
                          %th Description
                          %th Software Type
                          %th
                      %tbody
                        - @software_locations.each do |software_location|
                          - software_type = software_location.software_type
                          %tr
                            %td= software_location.Description
                            %td= software_type.SoftwareDesc unless software_type.blank?

                - else
                  %p.card-text None
              #customers.tab-pane.fade{"aria-labelledby" => "customers-tab", :role => "tabpanel"}
                %h5.card-title Customers
                - unless @customers.blank?
                  .table-responsive
                    %table.table.table-striped.table-sm
                      %thead
                        %tr
                          %th Name
                          %th Address
                          %th CRM ID
                          %th Active
                          %th
                      %tbody
                        - @customers.each do |customer|
                          %tr
                            %td= customer.Name
                            %td= customer.formatted_address
                            %td= customer.CRM_ID
                            %td= customer.Active
                            -#
                              %td
                                = link_to 'Show', customer, class: 'btn btn-sm btn-outline-secondary'
                                = link_to 'Edit', edit_customer_path(customer), class: 'btn btn-sm btn-primary'
                                = link_to 'Delete', customer, :method => :delete, class: 'btn btn-sm btn-danger', :data => { :confirm => 'Are you sure you want to delete this customer? It cannot be undone.' }
                - else
                  %p.card-text None

              #devices.tab-pane.fade.active.show{"aria-labelledby" => "devices-tab", :role => "tabpanel"}
                %h5.card-title Devices
                - unless @devices.blank?
                  .table-responsive
                    %table.table.table-striped.table-sm
                      %thead
                        %tr
                          %th Name
                          %th MAC_Address
                          %th Active
                          %th
                      %tbody
                        - @devices.each do |device|
                          %tr
                            %td= device.Name
                            %td= device.MAC_Address
                            %td= device.Active
                            -#
                              %td
                                = link_to 'Show', license, class: 'btn btn-sm btn-outline-secondary'
                                = link_to 'Edit', edit_license_path(license), class: 'btn btn-sm btn-primary'
                                = link_to 'Delete', license, :method => :delete, class: 'btn btn-sm btn-danger', :data => { :confirm => 'Are you sure you want to delete this license? It cannot be undone.' }
                - else
                  %p.card-text None

            #servers.tab-pane.fade.active.show{"aria-labelledby" => "servers-tab", :role => "tabpanel"}
              %h5.card-title Servers
              - unless @servers.blank?
                .table-responsive
                  %table.table.table-striped.table-sm
                    %thead
                      %tr
                        %th Name
                        %th MAC
                        %th Use For Jpegger
                        %th Active
                        %th
                    %tbody
                      - @servers.each do |server|
                        %tr
                          %td= server.Name
                          %td= server.MAC
                          %td= server.UseForJpegger == 1 ? 'Yes' : 'No'
                          %td= server.Active
                          -#
                            %td
                              = link_to 'Show', server, class: 'btn btn-sm btn-outline-secondary'
                              = link_to 'Edit', edit_server_path(server), class: 'btn btn-sm btn-primary'
                              = link_to 'Delete', server, :method => :delete, class: 'btn btn-sm btn-danger', :data => { :confirm => 'Are you sure you want to delete this server? It cannot be undone.' }
              - else
                %p.card-text None

              =# link_to 'Create New License', new_license_path(account_id: @tranact_account.id), class: 'btn btn-primary'