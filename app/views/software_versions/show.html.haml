-@title= @software_version.name
= render partial: 'shared/navbars/header_navbar'
.container-fluid
  .row
    = render partial: 'shared/navbars/side_bar_menu'
    %main.col-md-9.ms-sm-auto.col-lg-10.px-md-4
      .d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-center.pt-3.pb-2.mb-3.border-bottom
        %h1.h2= @software_version.name
        .float-end= link_to 'Edit', edit_software_version_path(@software_version), class: 'btn btn-primary'
      .card.col-sm-8
        .row
          .col-sm-4
            .card-body
              %h5.card-title Current Version
              %p.card-text= @software_version.current_version
              %h5.card-title Release Date
              %p.card-text= @software_version.release_date.strftime("%m/%d/%Y")
          .col-sm-4
            .card-body
              %h5.card-title Software Type
              %p.card-text= @software_version.software_type
              %h5.card-title SDX
              %p.card-text= @software_version.is_sdx? ? 'Yes' : 'No'
          .col-sm-4
            .card-body
              %h5.card-title Default License
              %p.card-text= @software_version.is_default_license? ? 'Yes' : 'No'
      
      %br

      .card
        .card-header Licenses
        .card-body
          - unless @licenses.blank?
            .table-responsive
              %table.table.table-striped.table-sm
                %thead
                  %tr
                    %th Account
                    %th Expire Date
                    %th Days Between Update
                    %th Auto Update
                    %th Is Demo License
                    %th Is Single User
                    %th
                %tbody
                  - @licenses.each do |license|
                    %tr
                      %td= link_to license.account.yard_name, license.account
                      %td= license.expire_date.strftime("%m/%d/%Y")
                      %td= license.days_between_update
                      %td= license.auto_update? ? 'Yes' : 'No'
                      %td= license.is_demo_license? ? 'Yes' : 'No'
                      %td= license.is_single_user? ? 'Yes' : 'No'
                      %td
                        = link_to 'Show', license, class: 'btn btn-sm btn-outline-secondary'
                        = link_to 'Edit', edit_license_path(license), class: 'btn btn-sm btn-primary'
                        =# link_to 'Delete', license, :method => :delete, class: 'btn btn-sm btn-danger', :data => { :confirm => 'Are you sure you want to delete this license? It cannot be undone.' }
                        = link_to 'Delete', '#', class: 'btn btn-sm btn-danger'
          - else
            %p.card-text None
          = link_to 'Create New License', new_license_path(software_version_id: @software_version.id), class: 'btn btn-primary'